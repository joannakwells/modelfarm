/* Model Farm shared styles - polished */
:root{
  --ink:#1b1b1b; --stone:#5a5a5a; --bone:#f5f2ec; --paper:#fffefc; --accent:#8a6a4a;
  --font-sans: ui-sans-serif, system-ui, -apple-system, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
  --font-serif: "Iowan Old Style","Palatino Linotype","Book Antiqua",Palatino,"Times New Roman",serif;

  --step--1: clamp(0.89rem, 0.84rem + 0.2vw, 1rem);
  --step-0:  clamp(1rem, 0.94rem + 0.4vw, 1.2rem);
  --step-1:  clamp(1.25rem, 1.1rem + 0.9vw, 1.8rem);
  --step-2:  clamp(1.6rem, 1.3rem + 1.6vw, 2.4rem);
  --step-3:  clamp(2.35rem, 1.8rem + 2.8vw, 3.4rem);

  --radius: 10px; --shadow: 0 10px 30px rgba(0,0,0,0.08);
  --dur: 500ms; --ease: cubic-bezier(.2,.9,.2,1);
  --wrap: 1200px;
}

html, body { height:100%; scroll-behavior:smooth; }
body{
  margin:0; background:var(--bone); color:var(--ink); font-family:var(--font-sans); line-height:1.5;
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}
body::before{
  content:""; position:fixed; inset:0; pointer-events:none;
  background:
    radial-gradient(1200px 600px at 10% 0%, rgba(0,0,0,0.03), transparent 60%),
    radial-gradient(800px 400px at 90% 20%, rgba(0,0,0,0.03), transparent 60%);
  mix-blend-mode:multiply;
}

.wrap{ max-width:var(--wrap); margin:0 auto; padding:44px 20px; }

@media (max-width: 480px){
  .wrap{ padding:32px 16px; }
}

.rule{ margin:40px 0 0; height:1px; background:linear-gradient(to right, rgba(0,0,0,.15), rgba(0,0,0,0)); }

.visually-hidden {
  position:absolute !important;
  height:1px; width:1px;
  overflow:hidden; clip:rect(1px,1px,1px,1px);
  white-space:nowrap;
}

/* HEADER */
.site-header{
  position: sticky;
  top: 0;
  z-index: 20;
  backdrop-filter: blur(14px);
  background: rgba(245,242,236,0.92);
  border-bottom: 1px solid rgba(0,0,0,0.06);
}
.header-inner{
  max-width: var(--wrap);
  margin: 0 auto;
  padding: 14px 20px 12px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 18px;
}
.brand-mark{
  display: inline-flex;
  align-items: baseline;
  gap: 6px;
  font-family: var(--font-serif);
  font-size: var(--step-1);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--ink);
  text-decoration: none;
}
.brand-mark span:last-child{
  font-family: var(--font-sans);
  font-size: var(--step--1);
  text-transform: none;
  letter-spacing: 0.08em;
  color: var(--stone);
}
.main-nav{
  display: flex;
  align-items: center;
  gap: 22px;
  font-size: var(--step-0);
}
.main-nav a{
  text-decoration: none;
  color: var(--stone);
  position: relative;
  padding-bottom: 2px;
}
.main-nav a::after{
  content:"";
  position:absolute;
  left:0; right:0; bottom:0;
  height:1px;
  background: rgba(0,0,0,.7);
  transform: scaleX(0);
  transform-origin: center;
  transition: transform var(--dur) var(--ease);
}
.main-nav a:hover{
  color: var(--ink);
}
.main-nav a:hover::after{
  transform: scaleX(1);
}
@media (max-width: 640px){
  .header-inner{ padding-top: 12px; padding-bottom: 10px; }
  .main-nav{ gap: 16px; font-size: var(--step--1); }
}
@media (max-width: 420px){
  .header-inner{
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
  }
}

/* Reveal */
.reveal{ opacity:0; transform: translateY(12px); }
.reveal.is-in{ opacity:1; transform:none; transition:opacity var(--dur) var(--ease), transform var(--dur) var(--ease); }
@media (prefers-reduced-motion: reduce){
  .reveal{ opacity:1; transform:none !important; }
}

/* HERO */
.mf-hero{
  position:relative; margin:42px 0 24px; display:grid; gap:clamp(20px,3vw,48px);
  grid-template-columns:1.05fr 1fr; align-items:center;
}
@media (max-width:900px){ .mf-hero{ grid-template-columns:1fr; } }

.eyebrow{ letter-spacing:.22em; text-transform:uppercase; font-size:var(--step--1); color:var(--stone); }
.mf-title{ font-family:var(--font-serif); font-size:var(--step-3); line-height:1.05; letter-spacing:-.01em; margin:8px 0 14px; }
.mf-sub{ font-size:var(--step-1); color:var(--stone); max-width:40ch; }

.mf-ctas{ display:flex; gap:12px; flex-wrap:wrap; margin-top:26px; }
.btn{
  display:inline-flex; align-items:center; justify-content:center; padding:12px 18px;
  font-size:var(--step-0); border:1px solid currentColor; border-radius:999px; text-decoration:none;
  transition: transform var(--dur) var(--ease), background var(--dur) var(--ease), color var(--dur) var(--ease), border-color var(--dur) var(--ease);
  cursor:pointer;
}
.btn.primary{ background:var(--ink); color:var(--paper); border-color:var(--ink); }
.btn.primary:hover{ transform: translateY(-2px); }
.btn.ghost{ color:var(--ink); background:transparent; }
.btn.ghost:hover{ color:var(--paper); background:var(--ink); transform: translateY(-2px); }

.fineprint{ margin-top:18px; font-size:var(--step--1); color:var(--stone); }

.mf-art{
  position:relative; border-radius:var(--radius); overflow:clip; box-shadow:var(--shadow); transform:translateZ(0);
  background:
    linear-gradient(180deg, rgba(0,0,0,.06), rgba(0,0,0,0)),
    url('https://images.unsplash.com/photo-1506806732259-39c2d0268443?q=80&w=1600&auto=format&fit=crop') center/cover no-repeat;
  min-height: clamp(260px, 40vw, 520px); isolation:isolate;
  transition: transform 700ms var(--ease), filter 700ms var(--ease);
}
.mf-art::before{
  content:""; position:absolute; inset:0;
  background:
    radial-gradient(120% 100% at 50% 10%, rgba(138,106,74,0.12), rgba(0,0,0,0.0) 60%),
    radial-gradient(100% 140% at 50% 120%, rgba(0,0,0,0.25), transparent 60%);
  mix-blend-mode:multiply; pointer-events:none;
}
.mf-art::after{
  content:""; position:absolute; inset:0;
  background-image:
    radial-gradient(rgba(0,0,0,.06) 1px, transparent 1px),
    radial-gradient(rgba(0,0,0,.04) 1px, transparent 1px);
  background-size:3px 3px, 7px 7px; background-position:0 0, 1px 1px;
  opacity:.25; mix-blend-mode:multiply; pointer-events:none;
}
@media (hover:hover){ .mf-art:hover{ transform: translateY(-4px); filter: saturate(1.03) contrast(1.02); } }

/* HERITAGE RELEASES (carousel) */
.band{
  padding:28px 0 8px;
}
.band-head{
  display:flex;
  justify-content:space-between;
  align-items:flex-end;
  gap:16px;
  margin-bottom:18px;
}
.band-title{
  font-family:var(--font-serif);
  font-size:var(--step-2);
  line-height:1.1;
  letter-spacing:-.01em;
}
.band-kicker{
  font-size:var(--step--1);
  color:var(--stone);
}

.wine-carousel{
  position:relative;
  margin-top:10px;
}
.wine-track{
  display:flex;
  flex-wrap:nowrap;
  gap:24px;
  overflow-x:auto;
  padding:4px 4px 16px;
  scroll-snap-type:x mandatory;
  -webkit-overflow-scrolling:touch;
  scrollbar-width:none;
  -ms-overflow-style:none;
}
.wine-track::-webkit-scrollbar{ display:none; }

.card{
  scroll-snap-align:start;
  flex:0 0 min(320px, 88vw);
  background:var(--paper);
  border:1px solid rgba(0,0,0,.08);
  border-radius:16px;
  overflow:hidden;
  box-shadow:var(--shadow);
  display:flex;
  flex-direction:column;
}
.card-media{
  position:relative;
  aspect-ratio:4/3;
  background:#ddd;
  overflow:hidden;
  background-image:url('https://images.unsplash.com/photo-1606677661991-4927b6e9ea59?q=80&w=1600&auto=format&fit=crop');
  background-size:cover;
  background-position:center;
}
.card-media[data-img="berger"]{
  background-image:url('https://images.unsplash.com/photo-1504577089374-8526b132e37e?q=80&w=1600&auto=format&fit=crop');
}
.card-media[data-img="mendo"]{
  background-image:url('https://images.unsplash.com/photo-1572569511254-d8f925fe2cbb?q=80&w=1600&auto=format&fit=crop');
}
.card-media[data-img="lacruz"]{
  background-image:url('https://images.unsplash.com/photo-1512061942530-e6e2ff6a3e1c?q=80&w=1600&auto=format&fit=crop');
}
.card-media[data-img="rose"]{
  background-image:url('https://images.unsplash.com/photo-1510626176961-4b57d4fbad03?q=80&w=1600&auto=format&fit=crop');
}
.card-media[data-img="pm-cab"]{
  background-image:url('https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?q=80&w=1600&auto=format&fit=crop');
}
.card-media::after{
  content:"";
  position:absolute;
  inset:0;
  background: radial-gradient(100% 120% at 50% 0, rgba(0,0,0,.12), transparent 60%);
}

.card-body{
  padding:18px 18px 20px;
  display:flex;
  flex-direction:column;
  gap:8px;
  height:100%;
}
.vino-eyebrow{
  letter-spacing:.22em;
  text-transform:uppercase;
  font-size:var(--step--1);
  color:var(--stone);
}
.vino-title{
  font-family:var(--font-serif);
  font-size: clamp(1.15rem, 1.05rem + .45vw, 1.45rem);
  line-height:1.15;
  margin:0;
}
.vino-copy{
  color:var(--stone);
  font-size: var(--step--1);
}
.vino-meta{
  display:flex;
  flex-direction:column;
  gap:4px;
  font-size:var(--step--1);
  color:var(--stone);
  margin-top:4px;
}
.vino-meta span{
  display:block;
  white-space:normal;
}

.vino-cta{
  margin-top:auto;
  display:flex;
  gap:8px;
}

.pill-btn{
  flex:1 1 0;
  text-align:center;
  padding:9px 0;
  border-radius:999px;
  font-size:var(--step--1);
  text-decoration:none;
  border:1px solid rgba(0,0,0,.85);
  background:var(--paper);
  color:var(--ink);
  cursor:pointer;
  transition:transform var(--dur) var(--ease), background var(--dur) var(--ease), color var(--dur) var(--ease);
}
.pill-btn--primary{
  background:var(--ink);
  color:var(--paper);
}
.pill-btn:hover{
  transform:translateY(-1px);
  background:var(--ink);
  color:var(--paper);
}

.wine-arrow{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  width:32px;
  height:32px;
  border-radius:999px;
  border:1px solid rgba(0,0,0,.18);
  background:rgba(245,242,236,0.96);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  font-size:18px;
  color:var(--stone);
  box-shadow:0 6px 18px rgba(0,0,0,0.08);
  transition:background var(--dur) var(--ease), color var(--dur) var(--ease), transform var(--dur) var(--ease);
}
.wine-arrow:hover{
  background:var(--ink);
  color:var(--paper);
  transform:translateY(-50%) translateY(-1px);
}
.wine-arrow--left{ left:-6px; }
.wine-arrow--right{ right:-6px; }

@media (max-width: 640px){
  .wine-arrow{ display:none; }
}

/* Page intro (used on wines/about/trade) */
.page-intro{
  margin:32px 0 16px;
}
.page-kicker{
  letter-spacing:.22em;
  text-transform:uppercase;
  font-size:var(--step--1);
  color:var(--stone);
  margin-bottom:6px;
}
.page-title{
  font-family:var(--font-serif);
  font-size:var(--step-3);
  line-height:1.08;
  letter-spacing:-.01em;
  margin:0 0 6px;
}
.page-sub{
  font-size:var(--step-0);
  color:var(--stone);
  max-width:52ch;
}

/* Wines grid layout */
.grid{
  display:grid;
  gap:clamp(16px,2.2vw,24px);
  grid-template-columns:repeat(3, minmax(0, 1fr));
}
@media (max-width: 900px){
  .grid{ grid-template-columns:repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 640px){
  .grid{ grid-template-columns:1fr; }
}

/* Notes (wines page) */
.notes{
  margin-top:6px;
  font-size:var(--step--1);
  color:var(--stone);
}
.notes h4{
  font-family:var(--font-serif);
  font-size:var(--step--1);
  margin:0 0 4px;
}
.notes p{
  margin:0;
}

/* EMAIL SIGNUP */
.signup {
  margin: 46px 0 10px;
  background: rgba(255,255,255,.6);
  border: 1px solid rgba(0,0,0,.12);
  border-radius: 14px;
  padding: clamp(20px, 4vw, 36px);
  box-shadow: 0 10px 30px rgba(0,0,0,0.06);
}
.signup-inner {
  max-width: 780px;
  margin: 0 auto;
  text-align: center;
}
.signup-eyebrow {
  letter-spacing: .22em;
  text-transform: uppercase;
  font-size: var(--step--1);
  color: var(--stone);
  margin-bottom: 6px;
}
.signup-title {
  font-family: var(--font-serif);
  font-size: clamp(1.6rem, 1.3rem + 1.6vw, 2.4rem);
  line-height: 1.12;
  letter-spacing: -.01em;
  margin: 4px 0 10px;
}
.signup-copy {
  color: var(--stone);
  font-size: var(--step-0);
  max-width: 60ch;
  margin: 0 auto 18px;
}
.signup-form {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 10px;
  align-items: center;
  margin-top: 10px;
}
@media (max-width: 640px){
  .signup-form { grid-template-columns: 1fr; }
}
.input {
  appearance: none;
  width: 100%;
  padding: 14px 16px;
  font-size: var(--step-0);
  border: 1px solid rgba(0,0,0,.18);
  border-radius: 999px;
  background: #fffefc;
  color: var(--ink);
  outline: none;
  transition: border-color var(--dur) var(--ease), box-shadow var(--dur) var(--ease);
}
.input::placeholder { color: #8b8b8b; }
.input:focus {
  border-color: var(--ink);
  box-shadow: 0 0 0 3px rgba(0,0,0,.06);
}
.btn.submit {
  padding: 14px 22px;
  border-radius: 999px;
  border: 1px solid var(--ink);
  background: var(--ink);
  color: var(--paper);
  font-size: var(--step-0);
}
.btn.submit:hover { transform: translateY(-2px); }
.signup-note {
  margin-top: 10px;
  font-size: var(--step--1);
  color: var(--stone);
}

/* FOOTER */
footer{ padding:36px 0 60px; color:var(--stone); font-size:var(--step--1); }
.foot-grid{ display:flex; flex-wrap:wrap; gap:18px; justify-content:space-between; align-items:center; }
.minlink{ color:inherit; text-decoration:none; border-bottom:1px solid rgba(0,0,0,.2); }
.minlink:hover{ color:var(--ink); border-color:var(--ink); }
